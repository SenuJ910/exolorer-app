import{c as s,r as o,j as e,m as u,M as y,A as L}from"./index-C3q1aUwh.js";import{u as C,M as D,T as j,a as A,P as E,L as k,i as _,b as F}from"./marker-shadow-CY9Pv0iP.js";import{P as V}from"./phone-DKXnEmuE.js";const W=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],O=s("ellipsis-vertical",W);const $=[["circle",{cx:"6",cy:"15",r:"4",key:"vux9w4"}],["circle",{cx:"18",cy:"15",r:"4",key:"18o8ve"}],["path",{d:"M14 15a2 2 0 0 0-2-2 2 2 0 0 0-2 2",key:"1ag4bs"}],["path",{d:"M2.5 13 5 7c.7-1.3 1.4-2 3-2",key:"1hm1gs"}],["path",{d:"M21.5 13 19 7c-.7-1.3-1.5-2-3-2",key:"1r31ai"}]],H=s("glasses",$);const P=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],B=s("image",P);const G=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],Z=s("scan-line",G);const q=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Y=s("send",q);const U=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],X=s("video",U);function J(){return C().map}const K=k.icon({iconUrl:F,shadowUrl:_,iconSize:[25,41],iconAnchor:[12,41]});k.Marker.prototype.options.icon=K;const g=[{id:1,name:"Lagos Solo Travelers",type:"group",participants:128,location:[6.45,3.4],lastMessage:"Anyone heading to the beach?"},{id:2,name:"Lekki Foodies",type:"group",participants:45,location:[6.445,3.47],lastMessage:"Best suya spot?"},{id:3,name:"Mainland Connect",type:"group",participants:82,location:[6.5244,3.3792],lastMessage:"Traffic is crazy on 3rd Mainland!"}],Q=[{id:1,text:"Hey everyone! I just arrived in Lagos.",sender:"other",senderName:"Sarah",timestamp:"10:00 AM",type:"text"},{id:2,text:"Welcome! You should check out the Nike Art Gallery.",sender:"other",senderName:"Tunde",timestamp:"10:02 AM",type:"text"},{id:3,text:"I'm actually nearby! Here's my location if anyone wants to grab coffee.",sender:"other",senderName:"Sarah",timestamp:"10:05 AM",type:"location",location:[6.455,3.484]}],ee=({center:i})=>{const c=J();return o.useEffect(()=>{c.flyTo(i,14,{duration:1.5})},[i,c]),null},ie=()=>{const[i,c]=o.useState(g[0]),[a,l]=o.useState(Q),[m,b]=o.useState(""),[d,x]=o.useState(i.location),[r,S]=o.useState(!1),[h,w]=o.useState("satellite"),f=o.useRef(null);o.useEffect(()=>{f.current?.scrollIntoView({behavior:"smooth"})},[a]),o.useEffect(()=>{const t=setTimeout(()=>{const n={id:Date.now(),text:"Has anyone tried the new rooftop bar in VI?",sender:"other",senderName:"Emeka",timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),type:"text"};l(p=>[...p,n])},5e3);return()=>clearTimeout(t)},[]);const M=t=>{if(t?.preventDefault(),!m.trim())return;const n={id:Date.now(),text:m,sender:"me",timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),type:"text"};l([...a,n]),b("")},z=()=>{const t=[6.4281,3.4219],n={id:Date.now(),text:"Shared a location",sender:"me",timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),type:"location",location:t};l([...a,n]),x(t)},v=t=>{c(t),x(t.location)},N=()=>{const t={id:Date.now(),text:"Shared an image",sender:"me",timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),type:"image",image:"https://placehold.co/400x300/1e293b/FFF?text=Image+Shared"};l([...a,t])};return o.useEffect(()=>{const t=a[a.length-1];if(t&&t.sender==="me"){const n=setTimeout(()=>{const p=["That sounds interesting! Tell me more.","I totally agree with you.","Have you been to the new spot in Ikoyi?",`I'm not sure about "${t.text}", but we can explore it!`,"Is it safe to go there at night?","Let's meet up there!","Lol crazy ðŸ˜…","Any other recommendations?"],I=p[Math.floor(Math.random()*p.length)],T={id:Date.now(),text:I,sender:"other",senderName:"Exolorer Bot",timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),type:"text"};l(R=>[...R,T])},2e3);return()=>clearTimeout(n)}},[a]),e.jsx("div",{className:"connect-page",style:{height:"calc(100vh - 80px)",display:"flex",flexDirection:"column"},children:e.jsxs("div",{className:"flex h-full",children:[e.jsxs("div",{className:"chat-section",style:{flex:1,display:"flex",flexDirection:"column",borderRight:"1px solid var(--color-border)",maxWidth:"500px",background:"var(--color-bg-card)",zIndex:20},children:[e.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid var(--color-border)",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(15, 23, 42, 0.95)"},children:[e.jsxs("div",{className:"flex items-center gap-sm",children:[e.jsx("div",{style:{width:40,height:40,borderRadius:"50%",background:"var(--color-primary)",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",color:"#000"},children:i.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:"1rem",fontWeight:"600"},children:i.name}),e.jsxs("span",{style:{fontSize:"0.8rem",color:"var(--color-success)"},children:["â— ",i.participants," Online"]})]})]}),e.jsxs("div",{className:"flex gap-sm text-muted",children:[e.jsx(V,{size:20,style:{cursor:"pointer"},onClick:()=>alert("Starting voice call...")}),e.jsx(X,{size:20,style:{cursor:"pointer"},onClick:()=>alert("Starting video call...")}),e.jsx(O,{size:20,style:{cursor:"pointer"}})]})]}),e.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"1rem",display:"flex",flexDirection:"column",gap:"1rem",backgroundImage:"radial-gradient(var(--color-border) 1px, transparent 1px)",backgroundSize:"20px 20px"},children:[a.map(t=>e.jsxs(u.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},style:{alignSelf:t.sender==="me"?"flex-end":"flex-start",maxWidth:"80%"},children:[t.sender==="other"&&e.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)",marginBottom:"0.25rem",display:"block"},children:t.senderName}),e.jsxs("div",{style:{padding:"0.75rem 1rem",borderRadius:"1rem",borderTopLeftRadius:t.sender==="other"?"0":"1rem",borderTopRightRadius:t.sender==="me"?"0":"1rem",background:t.sender==="me"?"var(--color-primary)":"#334155",color:t.sender==="me"?"#000":"#fff",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"},children:[t.type==="text"&&e.jsx("p",{children:t.text}),t.type==="location"&&t.location&&e.jsxs("div",{onClick:()=>x(t.location),style:{cursor:"pointer"},children:[e.jsxs("div",{className:"flex items-center gap-xs",style:{marginBottom:"0.5rem",fontWeight:"600"},children:[e.jsx(y,{size:16})," Shared Location"]}),e.jsx("div",{style:{width:"200px",height:"100px",background:"#000",borderRadius:"0.5rem",overflow:"hidden",position:"relative"},children:e.jsx("img",{src:"https://placehold.co/200x100/1e293b/FFF?text=Map+View",alt:"Location",style:{width:"100%",height:"100%",objectFit:"cover",opacity:.7}})})]}),t.type==="image"&&t.image&&e.jsx("div",{children:e.jsx("img",{src:t.image,alt:"Shared",style:{maxWidth:"100%",borderRadius:"0.5rem",cursor:"pointer"},onClick:()=>window.open(t.image,"_blank")})})]}),e.jsx("span",{style:{fontSize:"0.7rem",color:"var(--color-text-muted)",marginTop:"0.25rem",display:"block",textAlign:t.sender==="me"?"right":"left"},children:t.timestamp})]},t.id)),e.jsx("div",{ref:f})]}),e.jsxs("form",{onSubmit:M,style:{padding:"1rem",borderTop:"1px solid var(--color-border)",background:"var(--color-bg-card)",display:"flex",gap:"0.5rem",alignItems:"center"},children:[e.jsx("button",{type:"button",className:"btn btn-outline",style:{padding:"0.5rem",border:"none"},onClick:N,title:"Share Image",children:e.jsx(B,{size:20,color:"var(--color-text-muted)"})}),e.jsx("button",{type:"button",className:"btn btn-outline",style:{padding:"0.5rem",border:"none"},onClick:z,title:"Share Location",children:e.jsx(y,{size:20,color:"var(--color-text-muted)"})}),e.jsx("input",{type:"text",value:m,onChange:t=>b(t.target.value),placeholder:"Type a message...",style:{flex:1,padding:"0.75rem",borderRadius:"var(--radius-full)",border:"1px solid var(--color-border)",background:"var(--color-bg)",color:"#fff",outline:"none"}}),e.jsx("button",{type:"submit",className:"btn btn-primary",style:{padding:"0.75rem",borderRadius:"50%"},children:e.jsx(Y,{size:20})})]})]}),e.jsxs("div",{className:"map-section hidden-mobile",style:{flex:1.5,position:"relative",background:"#000",overflow:"hidden",perspective:"1000px"},children:[e.jsxs("div",{style:{position:"absolute",top:"1rem",left:"1rem",zIndex:1e3,display:"flex",flexDirection:"column",gap:"0.5rem"},children:[e.jsxs("button",{onClick:()=>S(!r),style:{background:r?"var(--color-primary)":"rgba(15, 23, 42, 0.9)",color:r?"#000":"#fff",border:"1px solid var(--color-border)",padding:"0.75rem 1.5rem",borderRadius:"var(--radius-full)",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"600",cursor:"pointer",boxShadow:r?"0 0 20px var(--color-primary)":"none",transition:"all 0.3s ease"},children:[e.jsx(H,{size:20}),r?"VR Mode ON":"Enable VR Mode"]}),e.jsxs("button",{onClick:()=>w(h==="satellite"?"street":"satellite"),style:{background:"rgba(15, 23, 42, 0.9)",color:"#fff",border:"1px solid var(--color-border)",padding:"0.5rem 1.5rem",borderRadius:"var(--radius-full)",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease"},children:[e.jsx(y,{size:20}),h==="satellite"?"Show Street Map":"Show Satellite"]})]}),e.jsx(u.div,{animate:{rotateX:r?45:0,scale:r?1.2:1,filter:r?"contrast(1.2) brightness(1.1) hue-rotate(10deg)":"none"},transition:{duration:.8,ease:"easeInOut"},style:{height:"100%",width:"100%",transformStyle:"preserve-3d"},children:e.jsxs(D,{center:d,zoom:13,maxZoom:22,style:{height:"100%",width:"100%"},children:[h==="satellite"?e.jsx(e.Fragment,{children:e.jsx(j,{attribution:"Â© Google Maps",url:"https://mt1.google.com/vt/lyrs=y&x={x}&y={y}&z={z}",maxNativeZoom:20,maxZoom:22})}):e.jsx(j,{attribution:"Â© OpenStreetMap contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",maxNativeZoom:19,maxZoom:22}),e.jsx(ee,{center:d}),g.map(t=>e.jsx(A,{position:t.location,eventHandlers:{click:()=>v(t)},children:e.jsx(E,{children:e.jsxs("div",{style:{color:"#000"},children:[e.jsx("strong",{children:t.name}),e.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${t.location[0]},${t.location[1]}`,target:"_blank",rel:"noopener noreferrer",style:{display:"block",marginTop:"0.5rem",color:"var(--color-primary)",textDecoration:"underline",fontSize:"0.8rem"},children:"Open in Google Maps"})]})})},t.id))]})}),e.jsx(L,{children:r&&e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:500},children:[e.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,0) 50%, rgba(0,0,0,0.2) 50%, rgba(0,0,0,0.2))",backgroundSize:"100% 4px",opacity:.3}}),e.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"radial-gradient(circle, transparent 60%, #000 100%)"}}),e.jsxs("div",{style:{position:"absolute",bottom:"2rem",left:"2rem",color:"var(--color-primary)",fontFamily:"monospace",fontSize:"0.8rem"},children:[e.jsxs("div",{className:"flex items-center gap-xs",children:[e.jsx(Z,{size:16})," SYSTEM: ONLINE"]}),e.jsxs("div",{children:["COORDS: ",d[0].toFixed(4),", ",d[1].toFixed(4)]})]})]})}),!r&&e.jsxs("div",{style:{position:"absolute",top:"1rem",right:"1rem",zIndex:1e3,background:"rgba(15, 23, 42, 0.9)",padding:"1rem",borderRadius:"var(--radius-lg)",border:"1px solid var(--color-border)",backdropFilter:"blur(10px)",maxWidth:"250px"},children:[e.jsx("h3",{style:{fontSize:"0.9rem",marginBottom:"0.5rem",color:"var(--color-text-muted)"},children:"Active Rooms Nearby"}),e.jsx("div",{className:"flex flex-col gap-sm",children:g.map(t=>e.jsx("div",{onClick:()=>v(t),style:{padding:"0.5rem",borderRadius:"var(--radius-md)",background:i.id===t.id?"rgba(0, 204, 102, 0.2)":"transparent",cursor:"pointer",border:i.id===t.id?"1px solid var(--color-primary)":"1px solid transparent",transition:"all 0.2s"},children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{style:{fontWeight:"500",fontSize:"0.9rem"},children:t.name}),e.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:t.participants})]})},t.id))})]})]})]})})};export{ie as default};
